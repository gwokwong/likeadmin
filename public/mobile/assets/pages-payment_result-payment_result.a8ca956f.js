import{d as e,z as a,aN as s,m as t,A as r,W as l,o as u,e as i,h as c,b as o,w as n,g as d,l as m,t as f,c as _,F as p,J as g,H as x,r as y,a as h,y as v,k as w}from"./index.fe40b928.js";import{g as b,_ as j,a as k}from"./pay.20e051ec.js";import{_ as O}from"./u-image.68348f7e.js";import{_ as R}from"./u-button.027407c6.js";import{_ as A}from"./plugin-vue_export-helper.21dcd24c.js";import"./u-icon.ecff0a89.js";var N=A(e({__name:"payment_result",setup(e){const A={succeed:{text:"支付成功",image:"/static/images/payment/icon_succeed.png"},waiting:{text:"等待支付",image:"/static/images/payment/icon_waiting.png"}},N=a(s.LOADING),C=a({id:"",from:""}),E=t({order:{}}),I=r((()=>{const e=!!E.pay_status;return A[e?"succeed":"waiting"]})),L=()=>{g({url:"/pages/index/index"})},z=()=>{if("recharge"===C.value.from)x({url:"/packages/pages/recharge/recharge"})};return l((async e=>{try{if(!e.id)throw new Error("订单不存在");C.value=e,await new Promise(((e,a)=>{b({order_id:C.value.id,from:C.value.from}).then((a=>{Object.assign(E,a),e(a)})).catch((e=>{a(e)}))})),N.value=s.NORMAL}catch(a){console.log(a),N.value=s.ERROR}})),(e,a)=>{const s=y(h("u-empty"),j),t=y(h("u-image"),O),r=v,l=w,g=y(h("u-button"),R),x=y(h("page-status"),k);return u(),i(p,null,[c(" 页面状态 "),o(x,{status:N.value},{error:n((()=>[o(s,{text:"订单不存在",mode:"order"})])),default:n((()=>[o(l,{class:"payment-result p-[20rpx]"},{default:n((()=>[o(l,{class:"result bg-white p-[20rpx] rounded-md"},{default:n((()=>[o(l,{class:"flex flex-col items-center my-[40rpx]"},{default:n((()=>[c(" 支付状态图片 "),o(t,{class:"status-image",src:d(I).image,width:"100",height:"100",shape:"circle"},null,8,["src"]),c(" 支付状态文字 "),o(r,{class:"text-2xl font-medium mt-[20rpx]"},{default:n((()=>[m(f(d(I).text),1)])),_:1}),o(l,{class:"text-3xl font-medium mt-[20rpx]"},{default:n((()=>[m(" ¥ "+f(E.order.order_amount),1)])),_:1})])),_:1}),c(" 支付信息 "),o(l,{class:"result-info"},{default:n((()=>[o(l,{class:"result-info__item"},{default:n((()=>[o(r,null,{default:n((()=>[m("订单编号")])),_:1}),o(r,null,{default:n((()=>[m(f(E.order.order_sn),1)])),_:1})])),_:1}),o(l,{class:"result-info__item"},{default:n((()=>[o(r,null,{default:n((()=>[m("付款时间")])),_:1}),o(r,null,{default:n((()=>[m(f(E.order.pay_time),1)])),_:1})])),_:1}),o(l,{class:"result-info__item"},{default:n((()=>[o(r,null,{default:n((()=>[m("支付方式")])),_:1}),E.pay_status?(u(),_(r,{key:0},{default:n((()=>[m(f(E.order.pay_way||"-"),1)])),_:1})):(u(),_(r,{key:1},{default:n((()=>[m("未支付")])),_:1}))])),_:1})])),_:1})])),_:1}),o(l,{class:"mt-[40rpx]"},{default:n((()=>[o(l,{class:"mb-[20rpx]"},{default:n((()=>["recharge"==C.value.from?(u(),_(g,{key:0,type:"primary",shape:"circle","hover-class":"none",onClick:z},{default:n((()=>[m(" 继续充值 ")])),_:1})):c("v-if",!0)])),_:1}),o(l,{class:"mb-[20rpx]"},{default:n((()=>[o(g,{type:"primary",plain:"",shape:"circle","hover-class":"none",onClick:L},{default:n((()=>[m(" 返回首页 ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["status"])],2112)}}}),[["__scopeId","data-v-514986f8"]]);export{N as default};
